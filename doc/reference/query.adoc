== `sqlite/query.hpp`
[#query]

The query header provides utility functions to query data from the database.

[source,cpp]
----
// A range owning the statement.
template<typename T = row>
struct query_range
{
  using iterator_type = sqlite::statement_iterator<T>;

  iterator_type begin() {return {stmt_};}
  iterator_type   end() {return {};}

  query_range(statement stmt) : stmt_(std::move(stmt)) {}
};

// Unparametrized query
template<typename T = row>
query_range<T> query(connection_ref conn, core::string_view q);
template<typename T = row>
query_range<T> query(connection_ref conn, core::string_view q, system::error_code &ec, error_info & ei);

// Parametrized query
template<typename T = row, typename ArgRange = std::initializer_list<param_ref>>
query_range<T> query(connection_ref conn, core::string_view q, ArgRange params);

template<typename T = row, typename ArgRange = std::initializer_list<param_ref>>
query_range<T> query(connection_ref conn, core::string_view q, ArgRange params, system::error_code &ec, error_info & ei);

template<typename T = row>
query_range<T> query(connection_ref conn, core::string_view q, std::initializer_list<std::pair<string_view, param_ref>> params);

template<typename T = row>
query_range<T> query(connection_ref conn, core::string_view q, std::initializer_list<std::pair<string_view, param_ref>> params, system::error_code &ec, error_info & ei);
----



